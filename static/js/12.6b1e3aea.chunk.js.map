{"version":3,"sources":["src/components/InsufficientBalanceButton.tsx","src/components/ApproveButton.tsx","node_modules/eth-permit/dist/eth-permit.js","node_modules/eth-permit/dist/lib.js","node_modules/utf8/utf8.js","src/components/Select.tsx","src/hooks/useSushiRoll.tsx","src/hooks/useMigrateState.tsx","src/screens/MigrateScreen.tsx"],"names":["InsufficientBalanceButton","symbol","t","useTranslation","title","disabled","style","borderRadius","ApproveButton","props","approveToken","useContext","EthersContext","useState","loading","setLoading","onPress","useCallback","a","async","token","onError","address","spender","tx","wait","onSuccess","hidden","containerStyle","marginBottom","Spacing","tiny","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","signERC2612Permit","signDaiPermit","rpc_1","lib_1","MAX_INT","EIP712Domain","name","type","zeros","numZeros","padEnd","getTokenName","provider","hexToUtf8","call","substr","getDomain","tokenAddress","chainId","all","getChainId","version","verifyingContract","holder","expiry","nonce","message","allowed","typedData","domain","types","Permit","primaryType","createTypedDaiData","sig","signData","assign","owner","deadline","createTypedERC2612Data","__importDefault","mod","__esModule","utf8_1","hex","str","code","l","replace","split","reverse","join","length","i","parseInt","String","fromCharCode","default","decode","root","byteArray","byteCount","byteIndex","stringFromCharCode","ucs2decode","string","extra","output","counter","charCodeAt","push","checkScalarValue","codePoint","Error","toString","toUpperCase","createByte","shift","encodeCodePoint","readContinuationByte","continuationByte","decodeSymbol","byte1","encode","codePoints","index","byteString","tmp","array","ucs2encode","Item","ITEM_SEPARATOR_HEIGHT","padding","IS_DESKTOP","minHeight","backgroundColor","selected","selectable","setOption","undefined","option","alignItems","flex","fontWeight","note","marginTop","description","Select","useColors","borderDark","accent","overlay","width","flexDirection","options","map","key","justifyContent","marginHorizontal","useSushiRoll","ethereum","migrate","lpToken","amount","signer","sushiRoll","getContract","SUSHI_ROLL","Math","floor","Date","getTime","args","tokenA","tokenB","ethers","constants","Zero","estimateGas","gasLimit","mul","div","logTransaction","arg","migrateWithPermit","getAddress","permit","v","r","s","useMigrateState","state","useLPTokensState","getTokenAllowance","updateTokens","mode","setMode","migrating","setMigrating","useEffect","isWalletConnect","setSelectedLPToken","useAsyncEffect","selectedLPToken","setSelectedLPTokenAllowed","minAllowance","BigNumber","from","pow","sub","allowance","gte","onMigrate","parseBalance","decimals","func","updateLPTokens","Migrate","ChangeNetwork","View","large","Border","MigrateModeSelect","find","UniswapLiquidityScreen","LPTokenSelect","emptyText","LPTokenItem","Heading","text","AmountInput","TokenInput","onAmountChanged","setAmount","AmountInfo","isEmptyValue","InfoBox","Meta","label","Controls","error","setError","normal","gt","balance","FetchingButton","selectedLPTokenAllowed","ErrorMessage","MigrateButton","goToFarm","useLinker","Button","MigrateScreen","Screen","Container","BackgroundImage","Content","Title","Text","light","Platform","OS","WebFooter"],"mappings":"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","file":"static/js/12.6b1e3aea.chunk.js","sourcesContent":["import React from \"react\";\n\nimport useTranslation from \"../hooks/useTranslation\";\nimport Button from \"./Button\";\n\nconst InsufficientBalanceButton = ({ symbol }: { symbol: string }) => {\n    const t = useTranslation();\n    return <Button title={symbol ? t(\"insufficient-\", { symbol }) : t(\"insufficient-balance\")} disabled={true} style={{ borderRadius: 15 }} />;\n};\nexport default InsufficientBalanceButton;\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { View } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport Token from \"../types/Token\";\nimport Button from \"./Button\";\n\nexport interface ApproveButtonProps {\n    token: Token;\n    spender: string;\n    onSuccess: () => void;\n    onError: (e) => void;\n    hidden?: boolean;\n}\n\nconst ApproveButton: FC<ApproveButtonProps> = props => {\n    const t = useTranslation();\n    const { approveToken } = useContext(EthersContext);\n    const [loading, setLoading] = useState(false);\n    const onPress = useCallback(async () => {\n        if (props.token) {\n            props.onError({});\n            setLoading(true);\n            try {\n                const tx = await approveToken(props.token.address, props.spender);\n                if (tx) {\n                    await tx.wait();\n                    props.onSuccess();\n                }\n            } catch (e) {\n                props.onError(e);\n            } finally {\n                setLoading(false);\n            }\n        }\n    }, [props.token]);\n    if (props.hidden) return <View />;\n    return (\n        <Button\n            title={t(\"approve-\", { symbol: props.token?.symbol || \"\" })}\n            onPress={onPress}\n            loading={loading}\n            containerStyle={{ marginBottom: Spacing.tiny }}\n            style={{ borderRadius: 15 }}\n        />\n    );\n};\n\nexport default ApproveButton;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.signERC2612Permit = exports.signDaiPermit = void 0;\nconst rpc_1 = require(\"./rpc\");\nconst lib_1 = require(\"./lib\");\nconst MAX_INT = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\nconst EIP712Domain = [\n    { name: \"name\", type: \"string\" },\n    { name: \"version\", type: \"string\" },\n    { name: \"chainId\", type: \"uint256\" },\n    { name: \"verifyingContract\", type: \"address\" },\n];\nconst createTypedDaiData = (message, domain) => {\n    const typedData = {\n        types: {\n            EIP712Domain,\n            Permit: [\n                { name: \"holder\", type: \"address\" },\n                { name: \"spender\", type: \"address\" },\n                { name: \"nonce\", type: \"uint256\" },\n                { name: \"expiry\", type: \"uint256\" },\n                { name: \"allowed\", type: \"bool\" },\n            ],\n        },\n        primaryType: \"Permit\",\n        domain,\n        message,\n    };\n    return typedData;\n};\nconst createTypedERC2612Data = (message, domain) => {\n    const typedData = {\n        types: {\n            EIP712Domain,\n            Permit: [\n                { name: \"owner\", type: \"address\" },\n                { name: \"spender\", type: \"address\" },\n                { name: \"value\", type: \"uint256\" },\n                { name: \"nonce\", type: \"uint256\" },\n                { name: \"deadline\", type: \"uint256\" },\n            ],\n        },\n        primaryType: \"Permit\",\n        domain,\n        message,\n    };\n    return typedData;\n};\nconst NONCES_FN = '0x7ecebe00';\nconst NAME_FN = '0x06fdde03';\nconst zeros = (numZeros) => ''.padEnd(numZeros, '0');\nconst getTokenName = (provider, address) => __awaiter(void 0, void 0, void 0, function* () { return lib_1.hexToUtf8((yield rpc_1.call(provider, address, NAME_FN)).substr(130)); });\nconst getDomain = (provider, token) => __awaiter(void 0, void 0, void 0, function* () {\n    if (typeof token !== 'string') {\n        return token;\n    }\n    const tokenAddress = token;\n    const [name, chainId] = yield Promise.all([\n        getTokenName(provider, tokenAddress),\n        rpc_1.getChainId(provider),\n    ]);\n    const domain = { name, version: '1', chainId, verifyingContract: tokenAddress };\n    return domain;\n});\nexports.signDaiPermit = (provider, token, holder, spender, expiry, nonce) => __awaiter(void 0, void 0, void 0, function* () {\n    const tokenAddress = token.verifyingContract || token;\n    const message = {\n        holder,\n        spender,\n        nonce: nonce || (yield rpc_1.call(provider, tokenAddress, `${NONCES_FN}${zeros(24)}${holder.substr(2)}`)),\n        expiry: expiry || MAX_INT,\n        allowed: true,\n    };\n    const domain = yield getDomain(provider, token);\n    const typedData = createTypedDaiData(message, domain);\n    const sig = yield rpc_1.signData(provider, holder, typedData);\n    return Object.assign(Object.assign({}, sig), message);\n});\nexports.signERC2612Permit = (provider, token, owner, spender, value = MAX_INT, deadline, nonce) => __awaiter(void 0, void 0, void 0, function* () {\n    const tokenAddress = token.verifyingContract || token;\n    const message = {\n        owner,\n        spender,\n        value,\n        nonce: nonce || (yield rpc_1.call(provider, tokenAddress, `${NONCES_FN}${zeros(24)}${owner.substr(2)}`)),\n        deadline: deadline || MAX_INT,\n    };\n    const domain = yield getDomain(provider, token);\n    const typedData = createTypedERC2612Data(message, domain);\n    const sig = yield rpc_1.signData(provider, owner, typedData);\n    return Object.assign(Object.assign({}, sig), message);\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hexToUtf8 = void 0;\nconst utf8_1 = __importDefault(require(\"utf8\"));\nexports.hexToUtf8 = function (hex) {\n    // if (!isHexStrict(hex))\n    //     throw new Error('The parameter \"'+ hex +'\" must be a valid HEX string.');\n    let str = \"\";\n    let code = 0;\n    hex = hex.replace(/^0x/i, '');\n    // remove 00 padding from either side\n    hex = hex.replace(/^(?:00)*/, '');\n    hex = hex.split(\"\").reverse().join(\"\");\n    hex = hex.replace(/^(?:00)*/, '');\n    hex = hex.split(\"\").reverse().join(\"\");\n    let l = hex.length;\n    for (let i = 0; i < l; i += 2) {\n        code = parseInt(hex.substr(i, 2), 16);\n        // if (code !== 0) {\n        str += String.fromCharCode(code);\n        // }\n    }\n    return utf8_1.default.decode(str);\n};\n","/*! https://mths.be/utf8js v3.0.0 by @mathias */\n;(function(root) {\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\troot.version = '3.0.0';\n\troot.encode = utf8encode;\n\troot.decode = utf8decode;\n\n}(typeof exports === 'undefined' ? this.utf8 = {} : exports));\n","import React, { FC } from \"react\";\nimport { View } from \"react-native\";\n\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport CloseIcon from \"./CloseIcon\";\nimport Expandable from \"./Expandable\";\nimport FlexView from \"./FlexView\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Selectable from \"./Selectable\";\nimport SelectIcon from \"./SelectIcon\";\nimport Text from \"./Text\";\nimport useColors from \"../hooks/useColors\";\nimport useStyles from \"../hooks/useStyles\";\n\nexport interface Option {\n    key: string;\n    title: string;\n    description: string;\n}\n\nexport interface SelectProps {\n    title: string;\n    options: Option[];\n    option?: Option;\n    setOption: (option?: Option) => void;\n}\n\nconst Select: FC<SelectProps> = props => {\n    const { borderDark, accent, overlay } = useColors();\n\n    return (\n        <View>\n            {/* <Expandable title={props.title} expanded={!props.option} onExpand={() => props.setOption()}> */}\n            <FlexView style={{ width: '100%', flexDirection: IS_DESKTOP ? 'row' : 'column' }}>\n                {props.options.map(option => (\n                    <View key={option.key} style={{\n                        flex: 1,\n                        borderRadius: 15,\n                        justifyContent: \"space-between\",\n                        marginHorizontal: IS_DESKTOP ? 10 : 0,\n                        marginBottom: !IS_DESKTOP ? 5 : 0\n                    }}>\n                        <Item\n                            key={option.key}\n                            option={option}\n                            setOption={props.setOption}\n                            selected={option.key === props.option?.key}\n                        />\n                    </View>\n                ))}\n            </FlexView>\n            {/* </Expandable> */}\n            {/* {props.option && (\n                <Item option={props.option} setOption={props.setOption} selected={true} selectable={false} />\n            )} */}\n        </View>\n    );\n};\n\nconst Item = (props: {\n    option: Option;\n    setOption?: (option?: Option) => void;\n    selected: boolean;\n    selectable?: boolean;\n}) => {\n    return (\n        <Selectable\n            containerStyle={{ marginBottom: ITEM_SEPARATOR_HEIGHT }}\n            style={{ padding: IS_DESKTOP ? 20 : 10, minHeight: IS_DESKTOP ? 102 : 82, backgroundColor: \"#464646\", borderRadius: 15 }}\n            selected={props.selected}\n            disabled={props.selectable}\n            onPress={() => props.setOption?.(props.selected ? undefined : props.option)}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <View style={{ flex: 1 }}>\n                    <Text fontWeight={\"regular\"}>{props.option.title}</Text>\n                    <Text note={true} style={{ marginTop: 4 }}>\n                        {props.option.description}\n                    </Text>\n                </View>\n                {/* {props.selected ? <CloseIcon /> : <SelectIcon />} */}\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport default Select;\n","import { useCallback, useContext } from \"react\";\n\nimport { signERC2612Permit } from \"eth-permit\";\nimport { ethers } from \"ethers\";\nimport { SUSHI_ROLL } from \"../constants/contracts\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport LPToken from \"../types/LPToken\";\nimport { getContract } from \"../utils\";\nimport { logTransaction } from \"../utils/analytics-utils\";\n\n// tslint:disable-next-line:max-func-body-length\nconst useSushiRoll = () => {\n    const { ethereum } = useContext(EthersContext);\n    const ttl = 60 * 20;\n\n    const migrate = useCallback(\n        async (lpToken: LPToken, amount: ethers.BigNumber, signer: ethers.Signer) => {\n            const sushiRoll = getContract(\"SushiRoll\", SUSHI_ROLL, signer);\n            const deadline = Math.floor(new Date().getTime() / 1000) + ttl;\n            const args = [\n                lpToken.tokenA.address,\n                lpToken.tokenB.address,\n                amount,\n                ethers.constants.Zero,\n                ethers.constants.Zero,\n                deadline\n            ];\n            const gasLimit = await sushiRoll.estimateGas.migrate(...args);\n            const tx = await sushiRoll.migrate(...args, {\n                gasLimit: gasLimit.mul(120).div(100)\n            });\n            return logTransaction(tx, \"SushiRoll.migrate()\", ...args.map(arg => arg.toString()));\n        },\n        [ethereum]\n    );\n\n    const migrateWithPermit = useCallback(\n        async (lpToken: LPToken, amount: ethers.BigNumber, signer: ethers.Signer) => {\n            const sushiRoll = getContract(\"SushiRoll\", SUSHI_ROLL, signer);\n            const deadline = Math.floor(new Date().getTime() / 1000) + ttl;\n            const permit = await signERC2612Permit(\n                ethereum,\n                lpToken.address,\n                await signer.getAddress(),\n                SUSHI_ROLL,\n                amount.toString(),\n                deadline\n            );\n            const args = [\n                lpToken.tokenA.address,\n                lpToken.tokenB.address,\n                amount,\n                ethers.constants.Zero,\n                ethers.constants.Zero,\n                deadline,\n                permit.v,\n                permit.r,\n                permit.s\n            ];\n            const gasLimit = await sushiRoll.estimateGas.migrateWithPermit(...args);\n            const tx = await sushiRoll.migrateWithPermit(...args, {\n                gasLimit: gasLimit.mul(120).div(100)\n            });\n            return logTransaction(tx, \"SushiRoll.migrateWithPermit()\", ...args.map(arg => arg.toString()));\n        },\n        [ethereum]\n    );\n\n    return {\n        migrate,\n        migrateWithPermit\n    };\n};\n\nexport default useSushiRoll;\n","import { useCallback, useContext, useEffect, useState } from \"react\";\n\nimport { ethers } from \"ethers\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { SUSHI_ROLL } from \"../constants/contracts\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport { parseBalance } from \"../utils\";\nimport useLPTokensState, { LPTokensState } from \"./useLPTokensState\";\nimport useSushiRoll from \"./useSushiRoll\";\n\nexport type MigrateMode = \"permit\" | \"approve\";\n\nexport interface MigrateState extends LPTokensState {\n    mode?: MigrateMode;\n    setMode: (_mode?: MigrateMode) => void;\n    onMigrate: () => Promise<void>;\n    migrating: boolean;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst useMigrateState: () => MigrateState = () => {\n    const { ethereum } = useContext(EthersContext);\n    const state = useLPTokensState(\"my-uniswap-lp-tokens\");\n    const { provider, signer, getTokenAllowance, updateTokens } = useContext(EthersContext);\n    const { migrate, migrateWithPermit } = useSushiRoll();\n    const [loading, setLoading] = useState(false);\n    const [mode, setMode] = useState<MigrateMode>();\n    const [migrating, setMigrating] = useState(false);\n\n    useEffect(() => {\n        if (ethereum?.isWalletConnect) {\n            setMode(\"approve\");\n        } else {\n            setMode(undefined);\n        }\n    }, [ethereum]);\n\n    useEffect(() => {\n        state.setSelectedLPToken();\n    }, [mode]);\n\n    useAsyncEffect(async () => {\n        if (provider && signer && state.selectedLPToken) {\n            setLoading(true);\n            state.setSelectedLPTokenAllowed(false);\n            try {\n                const minAllowance = ethers.BigNumber.from(2)\n                    .pow(96)\n                    .sub(1);\n                const allowance = await getTokenAllowance(state.selectedLPToken.address, SUSHI_ROLL);\n                state.setSelectedLPTokenAllowed(ethers.BigNumber.from(allowance).gte(minAllowance));\n            } finally {\n                setLoading(false);\n            }\n        }\n    }, [provider, signer, state.selectedLPToken]);\n\n    const onMigrate = useCallback(async () => {\n        if (mode && state.selectedLPToken && state.amount && provider && signer) {\n            setMigrating(true);\n            try {\n                const amount = parseBalance(state.amount, state.selectedLPToken.decimals);\n                const func = mode === \"approve\" ? migrate : migrateWithPermit;\n                const tx = await func(state.selectedLPToken, amount, signer);\n                await tx.wait();\n                await updateTokens();\n                await state.updateLPTokens();\n                state.setSelectedLPToken(undefined);\n            } finally {\n                setMigrating(false);\n            }\n        }\n    }, [mode, state.selectedLPToken, state.amount, provider, signer, migrateWithPermit, updateTokens]);\n\n    return {\n        ...state,\n        loading: state.loading || loading,\n        mode,\n        setMode,\n        onMigrate,\n        migrating\n    };\n};\n\nexport default useMigrateState;\n","import React, { useContext, useState } from \"react\";\nimport { Platform, View } from \"react-native\";\n\nimport useAsyncEffect from \"use-async-effect\";\nimport ApproveButton from \"../components/ApproveButton\";\nimport BackgroundImage from \"../components/BackgroundImage\";\nimport Border from \"../components/Border\";\nimport Button from \"../components/Button\";\nimport ChangeNetwork from \"../components/ChangeNetwork\";\nimport Container from \"../components/Container\";\nimport Content from \"../components/Content\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport FetchingButton from \"../components/FetchingButton\";\nimport Heading from \"../components/Heading\";\nimport InfoBox from \"../components/InfoBox\";\nimport InsufficientBalanceButton from \"../components/InsufficientBalanceButton\";\nimport LPTokenSelect, { LPTokenItem } from \"../components/LPTokenSelect\";\nimport Meta from \"../components/Meta\";\nimport Select, { Option } from \"../components/Select\";\nimport Text from \"../components/Text\";\nimport Title from \"../components/Title\";\nimport TokenInput from \"../components/TokenInput\";\nimport WebFooter from \"../components/web/WebFooter\";\nimport { MigrateSubMenu } from \"../components/web/WebSubMenu\";\nimport { SUSHI_ROLL } from \"../constants/contracts\";\nimport { Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useLinker from \"../hooks/useLinker\";\nimport useMigrateState, { MigrateMode, MigrateState } from \"../hooks/useMigrateState\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport MetamaskError from \"../types/MetamaskError\";\nimport { isEmptyValue, parseBalance } from \"../utils\";\nimport Screen from \"./Screen\";\n\nconst MigrateScreen = () => {\n    const t = useTranslation();\n    return (\n        <Screen>\n            <Container>\n                <BackgroundImage />\n                <Content>\n                    <Title text={t(\"migrate-liquidity\")} />\n                    <Text light={true}>{t(\"migrate-liquidity-desc\")}</Text>\n                    <Migrate />\n                </Content>\n                {Platform.OS === \"web\" && <WebFooter />}\n            </Container>\n            <MigrateSubMenu />\n        </Screen>\n    );\n};\n\nconst Migrate = () => {\n    const { ethereum, chainId } = useContext(EthersContext);\n    if (chainId !== 88) return <ChangeNetwork />;\n    const state = useMigrateState();\n    return (\n        <View style={{ marginTop: Spacing.large }}>\n            {!ethereum?.isWalletConnect && (\n                <>\n                    <MigrateModeSelect state={state} />\n                    <Border />\n                </>\n            )}\n            <UniswapLiquidityScreen state={state} />\n            <Border />\n            <AmountInput state={state} />\n            <AmountInfo state={state} />\n        </View>\n    );\n};\n\nconst MigrateModeSelect = ({ state }: { state: MigrateState }) => {\n    const t = useTranslation();\n    const options: Option[] = [\n        {\n            key: \"permit\",\n            title: t(\"non-hardware-wallet\"),\n            description: t(\"non-hardware-wallet-desc\")\n        },\n        {\n            key: \"approve\",\n            title: t(\"hardware-wallet\"),\n            description: t(\"hardware-wallet-desc\")\n        }\n    ];\n    return (\n        <Select\n            title={t(\"wallet-type\")}\n            options={options}\n            option={options.find(option => option.key === state.mode)}\n            setOption={option => state.setMode(option?.key as MigrateMode | undefined)}\n        />\n    );\n};\n\nconst UniswapLiquidityScreen = ({ state }: { state: MigrateState }) => {\n    const t = useTranslation();\n    if (!state.mode) {\n        return <Heading text={t(\"your-uniswap-liquidity\")} disabled={true} />;\n    }\n    return (\n        <LPTokenSelect\n            state={state}\n            title={t(\"your-uniswap-liquidity\")}\n            emptyText={t(\"you-dont-have-any-liquidity-on-uniswap\")}\n            Item={LPTokenItem}\n        />\n    );\n};\n\nconst AmountInput = ({ state }: { state: MigrateState }) => {\n    const t = useTranslation();\n    if (!state.selectedLPToken) {\n        return <Heading text={t(\"amount-of-tokens\")} disabled={true} />;\n    }\n    return (\n        <TokenInput\n            title={t(\"amount-of-tokens\")}\n            token={state.selectedLPToken}\n            amount={state.amount}\n            onAmountChanged={state.setAmount}\n        />\n    );\n};\n\nconst AmountInfo = ({ state }: { state: MigrateState }) => {\n    const disabled = !state.selectedLPToken || isEmptyValue(state.amount);\n    return (\n        <InfoBox>\n            <Meta label={state.selectedLPToken?.symbol || \"SushiSwap LP\"} text={state.amount} disabled={disabled} />\n            <Controls state={state} />\n        </InfoBox>\n    );\n};\n\nconst Controls = ({ state }: { state: MigrateState }) => {\n    const [error, setError] = useState<MetamaskError>({});\n    useAsyncEffect(() => setError({}), [state.amount]);\n    return (\n        <View style={{ marginTop: Spacing.normal }}>\n            {!state.selectedLPToken || isEmptyValue(state.amount) ? (\n                <MigrateButton state={state} onError={setError} disabled={true} />\n            ) : parseBalance(state.amount, state.selectedLPToken.decimals).gt(state.selectedLPToken.balance) ? (\n                <InsufficientBalanceButton symbol={state.selectedLPToken.symbol} />\n            ) : state.loading ? (\n                <FetchingButton />\n            ) : (\n                <>\n                    {state.mode === \"approve\" && !state.selectedLPTokenAllowed && (\n                        <ApproveButton\n                            token={state.selectedLPToken}\n                            spender={SUSHI_ROLL}\n                            onSuccess={() => state.setSelectedLPTokenAllowed(true)}\n                            onError={setError}\n                        />\n                    )}\n                    <MigrateButton\n                        state={state}\n                        onError={setError}\n                        disabled={state.mode === \"approve\" && !state.selectedLPTokenAllowed}\n                    />\n                </>\n            )}\n            {error.message && error.code !== 4001 && <ErrorMessage error={error} />}\n        </View>\n    );\n};\n\nconst MigrateButton = ({\n    state,\n    onError,\n    disabled\n}: {\n    state: MigrateState;\n    onError: (e) => void;\n    disabled: boolean;\n}) => {\n    const t = useTranslation();\n    const goToFarm = useLinker(\"/farming\", \"Farming\");\n    const onPress = async () => {\n        onError({});\n        try {\n            await state.onMigrate();\n            goToFarm();\n        } catch (e) {\n            onError(e);\n        }\n    };\n    return <Button title={t(\"migrate-liquidity\")} loading={state.migrating} onPress={onPress} disabled={disabled} />;\n};\n\nexport default MigrateScreen;\n"],"sourceRoot":""}