(this.webpackJsonp=this.webpackJsonp||[]).push([[15],{1034:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(24),o=n(42),c=n(70),s=n(74);t.default=function(e){var t=Object(c.default)(),n=Object(o.default)(),a=n.textDark,u=n.textLight,i=n.placeholder;return r.a.createElement(s.default,{style:{fontSize:l.IS_DESKTOP?28:20,marginBottom:l.Spacing.normal,color:e.disabled?i:e.amount?a:u}},e.disabled?t("n/a"):e.amount?e.amount+" "+(e.suffix||""):t("fetching"))}},1076:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n.n(a),l=n(18),o=n.n(l),c=n(4),s=n.n(c),u=n(0),i=n(40),d=n(28),m=n(139),f=n.n(m),p=n(67),b=n(62),k=n(21),O=n(1066),T=n(100),P=function(){return{deposit:Object(u.useCallback)((function(e,t,n){var a,r,l;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=Object(k.getContract)("MasterChef",p.MASTER_CHEF,n),o.next=3,s.a.awrap(a.estimateGas.deposit(e,t));case 3:return r=o.sent,o.next=6,s.a.awrap(a.deposit(e,t,{gasLimit:r.mul(120).div(100)}));case 6:return l=o.sent,o.abrupt("return",Object(T.logTransaction)(l,"MasterChef.deposit()",e,t.toString()));case 8:case"end":return o.stop()}}),null,null,null,Promise)}),[]),withdraw:Object(u.useCallback)((function(e,t,n){var a,r,l;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=Object(k.getContract)("MasterChef",p.MASTER_CHEF,n),o.next=3,s.a.awrap(a.estimateGas.withdraw(e,t));case 3:return r=o.sent,o.next=6,s.a.awrap(a.withdraw(e,t,{gasLimit:r.mul(120).div(100)}));case 6:return l=o.sent,o.abrupt("return",Object(T.logTransaction)(l,"MasterChef.withdraw()",e,t.toString()));case 8:case"end":return o.stop()}}),null,null,null,Promise)}),[])}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=Object(O.default)(e?"my-pools":"pools"),n=Object(u.useContext)(b.EthersContext),a=n.signer,r=n.getTokenAllowance,l=P(),c=l.deposit,m=l.withdraw,T=Object(u.useState)(!1),E=o()(T,2),v=E[0],j=E[1],w=Object(u.useState)(!1),h=o()(w,2),y=h[0],L=h[1],S=Object(u.useState)(!1),x=o()(S,2),A=x[0],C=x[1];Object(u.useEffect)((function(){j(!1),L(!1),C(!1),t.setFromAmount(""),t.setToAmount("")}),[t.selectedLPToken]),f()((function(){var e,n;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!a||!t.selectedLPToken){l.next=12;break}return j(!0),t.setSelectedLPTokenAllowed(!1),l.prev=3,e=d.ethers.BigNumber.from(2).pow(96).sub(1),l.next=7,s.a.awrap(r(t.selectedLPToken.address,p.MASTER_CHEF));case 7:n=l.sent,t.setSelectedLPTokenAllowed(d.ethers.BigNumber.from(n).gte(e));case 9:return l.prev=9,j(!1),l.finish(9);case 12:case"end":return l.stop()}}),null,null,[[3,,9,12]],Promise)}),[a,t.selectedLPToken]),f()((function(){if(t.pair&&t.selectedLPToken&&t.selectedLPToken.totalSupply&&t.selectedLPToken.amountDeposited){var e=Object(k.convertToken)(t.selectedLPToken),n=Object(k.convertToken)(t.selectedLPToken.tokenA),a=Object(k.convertToken)(t.selectedLPToken.tokenB),r=new i.TokenAmount(e,t.selectedLPToken.totalSupply.toString()),l=new i.TokenAmount(e,t.selectedLPToken.amountDeposited.toString()),o=t.pair.involvesToken(n)?t.pair.getLiquidityValue(n,r,l):null;t.setFromAmount((null==o?void 0:o.toFixed())||"");var c=t.pair.involvesToken(n)?t.pair.getLiquidityValue(a,r,l):null;t.setToAmount((null==c?void 0:c.toFixed())||"")}}),[t.pair,t.selectedLPToken]);var D=Object(u.useCallback)((function(){var e,n,r;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(null!=(e=t.selectedLPToken)&&e.id&&t.amount&&a)){l.next=15;break}return L(!0),l.prev=2,n=Object(k.parseBalance)(t.amount,t.selectedLPToken.decimals),l.next=6,s.a.awrap(c(t.selectedLPToken.id,n,a));case 6:return r=l.sent,l.next=9,s.a.awrap(r.wait());case 9:return t.setSelectedLPToken(void 0),l.next=12,s.a.awrap(t.updateLastTimeRefreshed());case 12:return l.prev=12,L(!1),l.finish(12);case 15:case"end":return l.stop()}}),null,null,[[2,,12,15]],Promise)}),[t.selectedLPToken,t.amount,a]),B=Object(u.useCallback)((function(){var e,n,r;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(null!=(e=t.selectedLPToken)&&e.id&&t.amount&&a)){l.next=15;break}return C(!0),l.prev=2,n=Object(k.parseBalance)(t.amount,t.selectedLPToken.decimals),l.next=6,s.a.awrap(m(t.selectedLPToken.id,n,a));case 6:return r=l.sent,l.next=9,s.a.awrap(r.wait());case 9:return t.setSelectedLPToken(void 0),l.next=12,s.a.awrap(t.updateLastTimeRefreshed());case 12:return l.prev=12,C(!1),l.finish(12);case 15:case"end":return l.stop()}}),null,null,[[2,,12,15]],Promise)}),[t.selectedLPToken,t.amount,a]);return g(g({},t),{},{loading:t.loading||v,onDeposit:D,depositing:y,onWithdraw:B,withdrawing:A})}},1220:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a),l=n(10),o=n.n(l),c=n(0),s=n.n(c),u=n(12),i=n(5),d=n(139),m=n.n(d),f=n(1034),p=n(373),b=n(1035),k=n(298),O=n(1031),T=n(1057),P=n(371),E=n(375),g=n(1032),v=n(1037),j=n(123),w=n(1029),h=n(1033),y=n(1038),L=n(1064),S=n(1040),x=n(1043),A=n(1065),C=n(74),D=n(376),B=n(1041),F=n(1039),M=n(1044),I=n(374),H=n(24),R=n(62),_=n(1076),W=n(70),V=n(21),G=n(372);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(){if(88!==Object(c.useContext)(R.EthersContext).chainId)return s.a.createElement(O.default,null);var e=Object(W.default)(),t=Object(_.default)(!0);return s.a.createElement(i.default,{style:{marginTop:H.Spacing.large}},s.a.createElement(L.default,{state:t,title:"My Farms",emptyText:e("you-dont-have-lp-tokens-deposited"),Item:N}),s.a.createElement(b.default,null),s.a.createElement(z,{state:t}),s.a.createElement(U,{state:t}))},N=function(e){var t,n=Object(V.formatBalance)((null==(t=e.token)?void 0:t.amountDeposited)||0,e.token.decimals,8),a=Object(c.useCallback)((function(){e.onSelectToken(e.token)}),[e.onSelectToken,e.token]);return s.a.createElement(x.default,{selected:e.selected,onPress:a,containerStyle:{marginBottom:y.ITEM_SEPARATOR_HEIGHT}},s.a.createElement(j.default,{style:{alignItems:"center"}},s.a.createElement(F.default,{token:e.token.tokenA,small:!0,replaceWETH:!0}),s.a.createElement(F.default,{token:e.token.tokenB,small:!0,replaceWETH:!0,style:{marginLeft:4}}),s.a.createElement(C.default,{medium:!0,caption:!0,style:{marginLeft:H.Spacing.tiny}},e.token.tokenA.symbol,"-",e.token.tokenB.symbol),s.a.createElement(C.default,{caption:H.IS_DESKTOP,medium:!0,style:{flex:1,textAlign:"right",marginRight:4}},n),e.selected?s.a.createElement(T.default,null):s.a.createElement(A.default,null)))},z=function(e){var t=e.state,n=Object(W.default)();if(!t.selectedLPToken)return s.a.createElement(w.default,{text:n("amount"),disabled:!0});var a=q(q({},t.selectedLPToken),{},{balance:t.selectedLPToken.amountDeposited});return s.a.createElement(i.default,null,s.a.createElement(w.default,{text:t.selectedLPToken.symbol+" "+n("amount")}),s.a.createElement(B.default,{token:a,amount:t.amount,onAmountChanged:t.setAmount,autoFocus:H.IS_DESKTOP}))},U=function(e){var t,n,a=e.state,r=Object(W.default)(),l=Object(V.parseBalance)(a.amount),o=null==(t=a.selectedLPToken)?void 0:t.amountDeposited,c=o&&l.lte(o)?null==(n=a.selectedLPToken.pendingSushi)?void 0:n.mul(l).div(o):null,u=!a.pair||!a.selectedLPToken,i=a.selectedLPToken?r("deposited-",{symbol:a.selectedLPToken.tokenA.symbol}):r("deposited-token-1"),d=a.selectedLPToken?r("deposited-",{symbol:a.selectedLPToken.tokenB.symbol}):r("deposited-token-2");return s.a.createElement(h.default,null,s.a.createElement(f.default,{amount:c?Object(V.formatBalance)(c):"",suffix:"SUSHI",disabled:u||Object(V.isEmptyValue)(a.amount)}),s.a.createElement(S.default,{label:r("deposited-lp-token"),text:o?Object(V.formatBalance)(o):"",disabled:u}),s.a.createElement(S.default,{label:i,text:a.fromAmount,disabled:u}),s.a.createElement(S.default,{label:d,text:a.toAmount,disabled:u}),s.a.createElement(Z,{state:a}))},Z=function(e){var t,n=e.state,a=Object(W.default)(),l=Object(c.useState)({}),o=r()(l,2),u=o[0],d=o[1];m()((function(){return d({})}),[n.selectedLPToken]);var f=Object(V.isEmptyValue)(n.amount);return s.a.createElement(i.default,{style:{marginTop:H.Spacing.normal}},!n.selectedLPToken||null!=(t=n.selectedLPToken.amountDeposited)&&t.isZero()?s.a.createElement(Q,{state:n,onError:d,disabled:!0}):Object(V.parseBalance)(n.amount,n.selectedLPToken.decimals).gt(n.selectedLPToken.amountDeposited)?s.a.createElement(k.default,{title:a("insufficient-amount"),disabled:!0}):n.loading?s.a.createElement(v.default,null):s.a.createElement(Q,{state:n,onError:d,disabled:f}),u.message&&4001!==u.code&&s.a.createElement(g.default,{error:u}))},Q=function(e){var t=e.state,n=e.onError,a=e.disabled,r=Object(W.default)(),l=Object(c.useCallback)((function(){n({}),t.onWithdraw().catch(n)}),[t.onWithdraw,n]);return s.a.createElement(k.default,{title:r("withdraw"),disabled:a,loading:t.withdrawing,onPress:l})};t.default=function(){var e=Object(W.default)();return s.a.createElement(G.default,null,s.a.createElement(P.default,null,s.a.createElement(p.default,null),s.a.createElement(E.default,null,s.a.createElement(D.default,{text:e("harvest-sushi")}),s.a.createElement(C.default,{light:!0},e("harvest-sushi-desc")),s.a.createElement(J,null)),"web"===u.default.OS&&s.a.createElement(M.default,null)),s.a.createElement(I.FarmingSubMenu,null))}}}]);
//# sourceMappingURL=15.369b6b62.chunk.js.map