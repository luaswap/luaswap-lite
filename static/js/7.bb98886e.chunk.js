(this.webpackJsonp=this.webpackJsonp||[]).push([[7],{1029:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),u=a(24),c=a(42),o=a(74);t.default=function(e){Object(c.default)().accent;return r.a.createElement(l.default,{style:{alignItems:"flex-start",height:32,marginBottom:e.disabled?0:u.Spacing.small}},r.a.createElement(o.default,{medium:!0,fontWeight:e.fontWeight||"bold",disabled:e.disabled,style:[{flex:1,fontSize:u.IS_DESKTOP?20:18,paddingBottom:u.Spacing.tiny},e.style]},e.text))}},1030:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(12),l=a(54),u=a(87);t.default="web"===r.default.OS?function(e,t,a){var r=Object(l.useHistory)();return Object(n.useCallback)((function(){a?window.open(e,a):r.push(e)}),[e,a])}:function(e,t,a){var r=Object(u.useNavigation)().navigate;return Object(n.useCallback)((function(){r(t)}),[t])}},1031:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),u=a(24),c=a(70),o=a(74);t.default=function(e){var t=e.chainId,a=void 0===t?88:t,n=Object(c.default)(),s={88:"TomoChain Mainnet",56:"Binance Smart Chain Mainnet"}[a];return r.a.createElement(l.default,{style:{flex:1,alignItems:"center",justifyContent:"center"}},r.a.createElement(o.default,{light:!0,style:{textAlign:"center",marginVertical:u.Spacing.large}},n("change-network-to",{networkName:s})))}},1032:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),u=a(24),c=a(74);t.default=function(e){var t=e.error;return r.a.createElement(l.default,{style:{borderColor:"red",borderWidth:1,width:"100%",padding:u.Spacing.tiny,marginTop:u.Spacing.small}},t.code&&r.a.createElement(c.default,{fontWeight:"bold",style:{color:"red",fontSize:14}},"Error Code ",t.code),r.a.createElement(c.default,{note:!0,style:{color:"red",fontSize:14}},t.message))}},1033:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),l=a(10),u=a.n(l),c=a(0),o=a.n(c),s=a(5),i=a(24),d=a(59),f=a(42),m=a(370);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){u()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(e){var t=Object(c.useContext)(d.GlobalContext).darkMode,a=Object(f.default)(),n=a.backgroundLight,l=a.borderDark,u=Object(m.default)().border;return o.a.createElement(s.default,r()({},e,{style:[p(p({},u({radius:20,color:t?l:n})),{},{backgroundColor:n,padding:i.Spacing.small+i.Spacing.tiny}),e.style]}))}},1034:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),u=a(42),c=a(70),o=a(74);t.default=function(e){var t=Object(c.default)(),a=Object(u.default)(),n=a.textDark,s=a.textLight,i=a.placeholder;return r.a.createElement(o.default,{style:{fontSize:l.IS_DESKTOP?28:20,marginBottom:l.Spacing.normal,color:e.disabled?i:e.amount?n:s}},e.disabled?t("n/a"):e.amount?e.amount+" "+(e.suffix||""):t("fetching"))}},1035:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),u=a(24),c=a(42);t.default=function(e){var t=Object(c.default)().border;return r.a.createElement(l.default,{style:{height:1,width:"100%",backgroundColor:t,marginTop:e.small?u.Spacing.tiny:u.Spacing.small,marginBottom:e.small?u.Spacing.tiny:u.Spacing.small+u.Spacing.tiny}})}},1036:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(70),u=a(298);t.default=function(e){var t=e.symbol,a=Object(l.default)();return r.a.createElement(u.default,{title:t?a("insufficient-",{symbol:t}):a("insufficient-balance"),disabled:!0,style:{borderRadius:15}})}},1037:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(70),u=a(298);t.default=function(){var e=Object(l.default)();return r.a.createElement(u.default,{title:e("fetching"),disabled:!0,style:{borderRadius:15}})}},1041:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),l=a(0),u=a.n(l),c=a(12),o=a(5),s=a(28),i=a(24),d=a(42),f=a(21),m=a(298),b=a(1029),p=a(1047),g=function(e){var t=Object(d.default)().accent,a=Object(l.useCallback)((function(){var t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.token&&(t=e.token.balance,Object(f.isNativeToken)(e.token)?(a=Object(f.pow10)(16),t=t.gt(a)?t.sub(a):s.ethers.constants.Zero):e.trc21Fee&&(t=t.gt(e.trc21Fee)?t.sub(e.trc21Fee):s.ethers.constants.Zero),e.updateAmount(Object(f.formatBalance)(t,e.token.decimals)));case 1:case"end":return n.stop()}}),null,null,null,Promise)}),[e.token,e.updateAmount,e.trc21Fee]);return u.a.createElement(o.default,{style:{position:"absolute",right:12,bottom:"web"===c.default.OS?17:24}},u.a.createElement(m.default,{type:"clear",size:"small",color:t,title:e.maxButtonText||(i.IS_DESKTOP?"MAX "+e.token.symbol:"MAX"),fontWeight:"bold",onPress:a,buttonStyle:{paddingHorizontal:i.Spacing.tiny}}))};t.default=function(e){var t,a,n=Object(l.useCallback)((function(t){if(e.token&&e.onAmountChanged)try{Object(f.parseBalance)(t,e.token.decimals),e.onAmountChanged(t)}catch(a){t.endsWith(".")&&t.indexOf(".")===t.length-1&&e.onAmountChanged(t)}}),[e.token,e.onAmountChanged]);return u.a.createElement(o.default,null,e.title&&u.a.createElement(b.default,{text:e.title}),u.a.createElement(o.default,null,u.a.createElement(p.default,{label:e.label,value:e.amount,onChangeText:n,placeholder:"0.0",keyboardType:"numeric",autoFocus:e.autoFocus||!1,inputContainerStyle:{borderBottomWidth:0},labelStyle:{fontFamily:"light",height:e.label?"auto":0}}),(null==(t=e.token)||null==(a=t.balance)?void 0:a.gt(0))&&!e.hideMaxButton&&u.a.createElement(g,{token:e.token,maxButtonText:e.maxButtonText,updateAmount:e.onAmountChanged,trc21Fee:e.trc21Fee})))}},1044:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),u=a(63),c=a(5),o=a(54),s=a(24),i=a(1030),d=a(123),f={us:a(1051),cn:a(1052),kr:a(1053),fr:a(1054),es:a(1055),jp:a(1056)},m=function(e){var t=e.name,a=e.locale,n=Object(o.useHistory)(),c=Object(o.useLocation)();return r.a.createElement(u.default,{onPress:function(){n.push(c.pathname+"?locale="+a)},style:{marginHorizontal:4}},r.a.createElement(l.default,{source:f[t],style:{width:30,height:20}}))};t.default=function(e){e.simple,Object(i.default)("https://dashboard.alchemyapi.io/signup?referral=429fb682-0d85-40ab-ad88-daf847cf7c63","","_blank");return r.a.createElement(c.default,{style:{width:"100%",padding:s.Spacing.normal,alignItems:"center"}},r.a.createElement(d.default,{style:{marginTop:s.Spacing.small}},r.a.createElement(m,{name:"us",locale:"en"}),r.a.createElement(m,{name:"es",locale:"es"}),r.a.createElement(m,{name:"fr",locale:"fr"}),r.a.createElement(m,{name:"cn",locale:"zh"}),r.a.createElement(m,{name:"jp",locale:"jp"}),r.a.createElement(m,{name:"kr",locale:"ko"})))}},1046:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),u=a(24),c=a(42),o=a(370),s=a(298),i=a(74);t.default=function(e){var t=Object(c.default)().textLight,a=(0,Object(o.default)().border)({color:e.color}),n=e.color||t;return r.a.createElement(l.default,{style:[e.clear?{}:a,e.style]},r.a.createElement(i.default,{note:!0,style:{color:n,fontSize:u.IS_DESKTOP?13:10}},e.text),e.buttonText&&e.onPressButton&&r.a.createElement(s.default,{title:e.buttonText,type:"clear",size:"small",fontWeight:"bold",onPress:e.onPressButton,titleStyle:{color:n},buttonStyle:{paddingHorizontal:0,paddingVertical:0},style:{alignSelf:"flex-end",marginTop:u.Spacing.tiny}}))}},1047:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),l=a(0),u=a.n(l),c=a(12),o=a(98),s=a(42),i=a(370);t.default=function(e){var t=Object(s.default)(),a=t.textDark,n=t.textMedium,d=t.textLight,f=Object(i.default)().border,m=e.size||"normal",b=e.color||a,p="small"===m?16:"large"===m?24:20,g=Object(l.useCallback)((function(t){null==e.onChangeText||e.onChangeText(t),null==e.onError||e.onError("");var a=[];""!==t&&e.forbidden&&e.forbidden.forEach((function(e){t.match(e.regexp)&&a.push(e.error)})),""!==t&&e.allowed&&e.allowed.forEach((function(e){t.match(e.regexp)||a.push(e.error)})),a.length>0&&(null==e.onError||e.onError(a.join("\n")))}),[e.onChangeText,e.onError,e.forbidden,e.allowed]);return u.a.createElement(o.Input,r()({},e,{inputStyle:[f(),{fontSize:p,fontFamily:"regular",paddingVertical:10,color:b,marginTop:0,minHeight:32},"web"===c.default.OS?{outline:"none"}:{},e.inputStyle],labelStyle:[{color:n},e.labelStyle],placeholderTextColor:e.placeholderTextColor||d,errorStyle:e.onError?{height:0}:e.errorStyle,containerStyle:[{paddingHorizontal:0},e.containerStyle],onChangeText:g}))}},1051:function(e,t,a){e.exports=a.p+"static/media/us.d367121f.png"},1052:function(e,t,a){e.exports=a.p+"static/media/cn.baedda5d.png"},1053:function(e,t,a){e.exports=a.p+"static/media/kr.146730ea.png"},1054:function(e,t,a){e.exports=a.p+"static/media/fr.dda60be7.png"},1055:function(e,t,a){e.exports=a.p+"static/media/es.82844a36.png"},1056:function(e,t,a){e.exports=a.p+"static/media/jp.27444bf9.png"},1077:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),l=a(4),u=a.n(l),c=a(0),o=a(28),s=a(139),i=a.n(s),d=a(67),f=a(62),m=a(21),b=a(100),p=function(){return{enter:Object(c.useCallback)((function(e,t){var a,n,r;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=Object(m.getContract)("SushiBar",d.SUSHI_BAR,t),l.next=3,u.a.awrap(a.estimateGas.enter(e));case 3:return n=l.sent,l.next=6,u.a.awrap(a.enter(e,{gasLimit:n.mul(120).div(100)}));case 6:return r=l.sent,l.abrupt("return",Object(b.logTransaction)(r,"SushiBar.enter()",e.toString()));case 8:case"end":return l.stop()}}),null,null,null,Promise)}),[]),leave:Object(c.useCallback)((function(e,t){var a,n,r;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=Object(m.getContract)("SushiBar",d.SUSHI_BAR,t),l.next=3,u.a.awrap(a.estimateGas.leave(e));case 3:return n=l.sent,l.next=6,u.a.awrap(a.leave(e,{gasLimit:n.mul(120).div(100)}));case 6:return r=l.sent,l.abrupt("return",Object(b.logTransaction)(r,"SushiBar.leave()",e.toString()));case 8:case"end":return l.stop()}}),null,null,null,Promise)}),[])}};t.default=function(){var e=Object(c.useContext)(f.EthersContext),t=e.signer,a=e.address,n=e.getTokenAllowance,l=e.tokens,s=e.updateTokens,b=p(),g=b.enter,h=b.leave,S=Object(c.useState)(),x=r()(S,2),O=x[0],y=x[1],E=Object(c.useState)(),j=r()(E,2),v=j[0],k=j[1],w=Object(c.useState)(),C=r()(w,2),B=C[0],T=C[1],P=Object(c.useState)(""),A=r()(P,2),I=A[0],H=A[1],z=Object(c.useState)(!1),D=r()(z,2),F=D[0],_=D[1],M=Object(c.useState)(!1),L=r()(M,2),R=L[0],U=L[1],W=Object(c.useState)(!1),N=r()(W,2),K=N[0],V=N[1],Z=Object(c.useState)(!1),G=r()(Z,2),X=G[0],J=G[1],q=Object(c.useState)(!1),Q=r()(q,2),Y=Q[0],$=Q[1],ee=Object(c.useMemo)((function(){return l.find((function(e){return"SUSHI"===e.symbol}))}),[l]),te=Object(c.useMemo)((function(){return l.find((function(e){return"xSUSHI"===e.symbol}))}),[l]);Object(c.useEffect)((function(){H("")}),[a]),i()((function(){var e,a,r,l,c;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(ee&&te&&t)){s.next=34;break}return _(!1),U(!1),V(!0),s.prev=4,e=o.ethers.BigNumber.from(2).pow(96).sub(1),s.next=8,u.a.awrap(n(ee.address,d.SUSHI_BAR));case 8:return a=s.sent,_(o.ethers.BigNumber.from(a).gte(e)),s.next=12,u.a.awrap(n(te.address,d.SUSHI_BAR));case 12:return r=s.sent,U(o.ethers.BigNumber.from(r).gte(e)),l=Object(m.getContract)("ERC20",ee.address,t),s.t0=y,s.next=18,u.a.awrap(l.balanceOf(d.SUSHI_BAR));case 18:return s.t1=s.sent,(0,s.t0)(s.t1),s.t2=k,s.next=23,u.a.awrap(l.totalSupply());case 23:return s.t3=s.sent,(0,s.t2)(s.t3),c=Object(m.getContract)("ERC20",te.address,t),s.t4=T,s.next=29,u.a.awrap(c.totalSupply());case 29:s.t5=s.sent,(0,s.t4)(s.t5);case 31:return s.prev=31,V(!1),s.finish(31);case 34:case"end":return s.stop()}}),null,null,[[4,,31,34]],Promise)}),[ee,te,t]);var ae=Object(c.useCallback)((function(){var e,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(I&&ee&&t)){n.next=16;break}return J(!0),n.prev=2,e=Object(m.parseBalance)(I,ee.decimals),n.next=6,u.a.awrap(g(e,t));case 6:if(!(a=n.sent)){n.next=13;break}return n.next=10,u.a.awrap(a.wait());case 10:return n.next=12,u.a.awrap(s());case 12:H("");case 13:return n.prev=13,J(!1),n.finish(13);case 16:case"end":return n.stop()}}),null,null,[[2,,13,16]],Promise)}),[I,ee,t]),ne=Object(c.useCallback)((function(){var e,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(I&&te&&t)){n.next=16;break}return $(!0),n.prev=2,e=Object(m.parseBalance)(I,te.decimals),n.next=6,u.a.awrap(h(e,t));case 6:if(!(a=n.sent)){n.next=13;break}return n.next=10,u.a.awrap(a.wait());case 10:return n.next=12,u.a.awrap(s());case 12:H("");case 13:return n.prev=13,$(!1),n.finish(13);case 16:case"end":return n.stop()}}),null,null,[[2,,13,16]],Promise)}),[I,te,t]);return{sushi:ee,xSushi:te,sushiStaked:O,sushiSupply:v,xSushiSupply:B,amount:I,setAmount:H,sushiAllowed:F,setSushiAllowed:_,xSushiAllowed:R,setXSushiAllowed:U,loading:K,onEnter:ae,entering:X,onLeave:ne,leaving:Y}}},1222:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),l=a(4),u=a.n(l),c=a(0),o=a.n(c),s=a(12),i=a(5),d=a(1034),f=a(373),m=a(1035),b=a(298),p=a(1031),g=a(371),h=a(375),S=a(1032),x=a(1037),O=a(1029),y=a(1033),E=a(1036),j=a(1046),v=a(74),k=a(376),w=a(1041),C=a(1044),B=a(374),T=a(24),P=a(62),A=a(1077),I=a(70),H=a(21),z=a(372),D=function(){if(88!==Object(c.useContext)(P.EthersContext).chainId)return o.a.createElement(p.default,null);var e=Object(I.default)(),t=Object(A.default)();return o.a.createElement(i.default,{style:{marginTop:T.Spacing.large}},o.a.createElement(F,{state:t}),o.a.createElement(m.default,null),o.a.createElement(_,{state:t}),t.xSushi&&t.xSushi.balance.isZero()&&o.a.createElement(j.default,{text:e("you-dont-have-xsushi"),color:"orange",style:{marginTop:T.Spacing.small}}),o.a.createElement(M,{state:t}))},F=function(e){var t=e.state,a=Object(I.default)();return o.a.createElement(i.default,null,o.a.createElement(O.default,{text:a("your-xsushi")}),o.a.createElement(d.default,{amount:t.xSushi?Object(H.formatBalance)(t.xSushi.balance,t.xSushi.decimals):"",suffix:"xSUSHI"}))},_=function(e){var t=e.state,a=Object(I.default)();return!t.xSushi||t.xSushi.balance.isZero()?o.a.createElement(O.default,{text:a("amount-to-unstake"),disabled:!0}):o.a.createElement(i.default,null,o.a.createElement(O.default,{text:a("amount-to-unstake")}),o.a.createElement(w.default,{token:t.xSushi,amount:t.amount,onAmountChanged:t.setAmount,autoFocus:T.IS_DESKTOP}))},M=function(e){var t=e.state,a=!t.sushi||!t.xSushi||!t.sushiStaked||!t.xSushiSupply||Object(H.isEmptyValue)(t.amount),n=a?void 0:Object(H.parseBalance)(t.amount,t.xSushi.decimals).mul(t.sushiStaked).div(t.xSushiSupply);return o.a.createElement(y.default,null,o.a.createElement(d.default,{amount:n?Object(H.formatBalance)(n,t.sushi.decimals,8):"",suffix:"SUSHI",disabled:a}),o.a.createElement(L,{state:t}))},L=function(e){var t=e.state,a=Object(c.useState)({}),n=r()(a,2),l=n[0],u=n[1];return o.a.createElement(i.default,{style:{marginTop:T.Spacing.normal}},!t.xSushi||t.xSushi.balance.isZero()||Object(H.isEmptyValue)(t.amount)?o.a.createElement(R,{state:t,onError:u,disabled:!0}):Object(H.parseBalance)(t.amount,t.xSushi.decimals).gt(t.xSushi.balance)?o.a.createElement(E.default,{symbol:t.xSushi.symbol}):t.loading?o.a.createElement(x.default,null):o.a.createElement(R,{state:t,onError:u,disabled:!1}),l.message&&4001!==l.code&&o.a.createElement(S.default,{error:l}))},R=function(e){var t=e.state,a=e.onError,n=e.disabled,r=Object(I.default)();return o.a.createElement(b.default,{title:r("unstake"),loading:t.leaving,onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a({}),e.prev=1,e.next=4,u.a.awrap(t.onLeave());case 4:t.setAmount(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(e.t0);case 10:case"end":return e.stop()}}),null,null,[[1,7]],Promise)},disabled:n})};t.default=function(){var e=Object(I.default)();return o.a.createElement(z.default,null,o.a.createElement(g.default,null,o.a.createElement(f.default,null),o.a.createElement(h.default,null,o.a.createElement(k.default,{text:e("unstake")}),o.a.createElement(v.default,{light:!0},e("unstake-desc")),o.a.createElement(D,null)),"web"===s.default.OS&&o.a.createElement(C.default,null)),o.a.createElement(B.StakingSubMenu,null))}}}]);
//# sourceMappingURL=7.bb98886e.chunk.js.map